<!doctype html>
<html class="no-js" lang="en">

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>
      {% if title %}{{ title }} | {% endif %}
      {{ siteName }}
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {# Global styles #}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" integrity="sha256-0rguYS0qgS6L4qVzANq4kjxPLtvnp5nn2nB5G1lWRv4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="{{ craft.config.tmpl.css }}/styles.css">

    {# Page-specific styles (if they exist) #}
    {% block page_styles %}{% endblock %}

    {# Enable livereload if we're developing locally #}
    {% if craft.config.env == "local" %}
      {% spaceless %}
        <script type="text/javascript">//<![CDATA[
          document.write('<script src="' + (location.protocol || 'http:') + '//' + (location.hostname || 'localhost') + ':35729/livereload.js?snipver=1" type="text/javascript"><\/script>')
        //]]></script>
      {% endspaceless %}
    {% endif %}

  </head>

  <body class="{{ craft.request.getSegment(1) ?: 'home' }}">

    {% include "_partials/header.html" %}

    {# Page content #}
    {% block page_content %}{% endblock %}

    {% include "_partials/footer.html" %}

    {# Site-wide javascript #}
    {% if craft.config.env == "local" %}
      <script src="{{ craft.config.tmpl.js }}/scripts.js"></script>
    {% else %}
      <script src="{{ craft.config.tmpl.js }}/scripts.min.js"></script>
    {% endif %}

    {% block page_script_tags %}{% endblock %}

    {# Page-specific javascript (if it exists) #}
    {% if block('page_scripts') %}
      <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function(){
          {% block page_scripts %}{% endblock %}
        });
      </script>
    {% endif %}

  </body>

</html>
